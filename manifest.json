// manifest.json 
{
  "manifest_version": 3, // 宣告使用 Manifest V3 規範
  "name": "WebTextSync",
  "version": "1.0",
  "description": "跨頁同步輸入的 Chrome 擴充功能",
  "permissions": ["scripting", "activeTab", "storage"],
  "host_permissions": ["<all_urls>"],
  "background": {
    "service_worker": "background.js" 
  },
  "action": { // 點擊擴充功能圖示時
    "default_popup": "popup.html",
    "default_icon": {
      "16": "icons/data-synchronization.png",
      "48": "icons/data-synchronization.png",
      "128": "icons/data-synchronization.png"
    }
  }
  // Chrome 會根據定義順序先後注入 JS
  , "content_scripts": [
    {
      "matches": [
		  "https://chatgpt.com/*",
		  "https://gemini.google.com/*",
		  "http://localhost/*",
		  "http://127.0.0.1/*",
		  "file:///*"
		],
      "js": ["local.config.js", "utils.js"],
      "run_at": "document_end"
    },
	{
      "matches": ["https://chatgpt.com/*","file:///*"],
      "js": ["content_chatgpt.js"],
      "run_at": "document_end"
    },
    {
      "matches": ["https://gemini.google.com/*","file:///*"],
      "js": ["content_gemini.js"],
      "run_at": "document_end"
    },
    {
      "matches": [
		  "https://chatgpt.com/*",
		  "https://gemini.google.com/*",
		  "http://localhost/*",
		  "http://127.0.0.1/*",
		  "file:///*"
		],
      "js": ["selector_injector.js","monitor.js","output.js"],
      "run_at": "document_end"
    }
  ] 
}